<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sh.mapper.AdminMapper">

	<resultMap type="Admin" id="AdminResultMap">
		<id column="admin_no" property="no"/>
		<result column="admin_password" property="password"/>
		<result column="admin_email" property="email"/>
		<result column="admin_tel" property="tel"/>
		<result column="admin_grade" property="grade"/>
		<result column="admin_name" property="name"/>
		<result column="admin_birth" property="birth"/>
		<result column="admin_address" property="address"/>
		<result column="admin_postcode" property="postcode"/>
		<result column="admin_hire_date" property="hireDate"/>
		<result column="admin_created_date" property="createdDate"/>
		<result column="admin_updated_date" property="updatedDate"/>
	</resultMap>
	
	<!-- Admin getAdminByEmail(String email); -->
	<select id="getAdminByEmail" parameterType="string" resultMap="AdminResultMap">
		select *
		from sh_admins
		where admin_email = #{email}
	</select>
	
	<!-- int checkAdminByEmail(String email); -->
	<select id="checkAdminByEmail" parameterType="string" resultType="int">
		select count(admin_email) 
		from sh_admins 
		where admin_email = #{email}
	</select>
	
	<!-- void insertAdmin(Admin admin); -->
	<insert id="insertAdmin" parameterType="Admin">
		insert into sh_admins
		(admin_no, admin_password, admin_email, admin_tel, admin_grade, admin_name, admin_birth, admin_address, admin_address_detail,
		 admin_postcode, admin_hire_date, location_no, admin_gender, admin_profile_image)
		values
		(admin_seq.nextval, #{password}, #{email}, #{tel}, #{grade}, #{name}, #{birth}, #{address}, #{addressDetail}, #{postcode}, 
		#{hireDate}, #{location.no}, #{gender}, #{profileImage})
	</insert>
	
	<!-- int getSaleSeoul(); -->
	<select id="getSaleSeoul" resultType="int">
		select sum(ROOM_REV_TOTAL_PRICE)
		from sh_room_rev
		where room_id in (select room_id
		                  from sh_room
		                  where location_no = 1) 
	</select>
	<!-- int getSaleBusan(); -->
	<select id="getSaleBusan" resultType="int">
		select sum(ROOM_REV_TOTAL_PRICE)
		from sh_room_rev
		where room_id in (select room_id
		                  from sh_room
		                  where location_no = 2) 
	</select>
	<!-- int getSaleJeju(); -->
	<select id="getSaleJeju" resultType="int">
		select sum(ROOM_REV_TOTAL_PRICE)
		from sh_room_rev
		where room_id in (select room_id
		                  from sh_room
		                  where location_no = 3) 
	</select>
	<!-- int getSaleGangreung(); -->
	<select id="getSaleGangreung" resultType="int">
		select sum(ROOM_REV_TOTAL_PRICE)
		from sh_room_rev
		where room_id in (select room_id
		                  from sh_room
		                  where location_no = 4)
	</select>
	<!-- int getSaleGwangju(); -->
	<select id="getSaleGwangju" resultType="int">
		select sum(ROOM_REV_TOTAL_PRICE)
		from sh_room_rev
		where room_id in (select room_id
		                  from sh_room
		                  where location_no = 5) 
	</select>
	
	<!-- int getSaleJan(); -->
	<select id="getSaleJan" resultType="int">
		select sum(ROOM_REV_TOTAL_PRICE)
		from sh_room_rev
		where room_rev_checkin_time &gt;= TO_DATE('2022-01-01') AND room_rev_checkin_time &lt; LAST_DAY(TO_DATE('2022-01-01')) + 1
	</select>
	<!-- int getSaleFeb(); -->
	<select id="getSaleFeb" resultType="int">
		select sum(ROOM_REV_TOTAL_PRICE)
		from sh_room_rev
		where room_rev_checkin_time &gt;= TO_DATE('2022-02-01') AND room_rev_checkin_time &lt; LAST_DAY(TO_DATE('2022-02-01')) + 1
	</select>
	<!-- int getSaleMar(); -->
	<select id="getSaleMar" resultType="int">
		select sum(ROOM_REV_TOTAL_PRICE)
		from sh_room_rev
		where room_rev_checkin_time &gt;= TO_DATE('2022-03-01') AND room_rev_checkin_time &lt; LAST_DAY(TO_DATE('2022-03-01')) + 1
	</select>
	<!-- int getSaleApr(); -->
	<select id="getSaleApr" resultType="int">
		select sum(ROOM_REV_TOTAL_PRICE)
		from sh_room_rev
		where room_rev_checkin_time &gt;= TO_DATE('2022-04-01') AND room_rev_checkin_time &lt; LAST_DAY(TO_DATE('2022-04-01')) + 1
	</select>
	<!-- int getSaleMay(); -->
	<select id="getSaleMay" resultType="int">
		select sum(ROOM_REV_TOTAL_PRICE)
		from sh_room_rev
		where room_rev_checkin_time &gt;= TO_DATE('2022-05-01') AND room_rev_checkin_time &lt; LAST_DAY(TO_DATE('2022-05-01')) + 1
	</select>
	<!-- int getSaleJun(); -->
	<select id="getSaleJun" resultType="int">
		select sum(ROOM_REV_TOTAL_PRICE)
		from sh_room_rev
		where room_rev_checkin_time &gt;= TO_DATE('2022-06-01') AND room_rev_checkin_time &lt; LAST_DAY(TO_DATE('2022-06-01')) + 1
	</select>
	
	<!-- int getSaleStandard(); -->
	<select id="getSaleStandard" resultType="int">
		select sum(ROOM_REV_TOTAL_PRICE)
		from sh_room_rev
		where room_id in (select room_id
		                  from sh_room
		                  where room_category_no in (select g.room_category_no
		                                             from sh_room_category g, sh_room_category c
		                                             where g.room_group_no = c.room_category_no
		                                             and g.room_group_no = 100))
	</select>
	<!-- int getSaleExecutive(); -->
	<select id="getSaleExecutive" resultType="int">
		select sum(ROOM_REV_TOTAL_PRICE)
		from sh_room_rev
		where room_id in (select room_id
		                  from sh_room
		                  where room_category_no in (select g.room_category_no
		                                             from sh_room_category g, sh_room_category c
		                                             where g.room_group_no = c.room_category_no
		                                             and g.room_group_no = 200))
	</select>
	<!-- int getSaleSuite(); -->
	<select id="getSaleSuite" resultType="int">
		select sum(ROOM_REV_TOTAL_PRICE)
		from sh_room_rev
		where room_id in (select room_id
		                  from sh_room
		                  where room_category_no in (select g.room_category_no
		                                             from sh_room_category g, sh_room_category c
		                                             where g.room_group_no = c.room_category_no
		                                             and g.room_group_no = 200))
	</select>
	
</mapper>